<!--Angela George
    final project mock up
    last modified: 11/18/20
    sources : https://sharingbuttons.io/
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Daily Diary App</title>
    <style>
        .resp-sharing-button__link,
        .resp-sharing-button__icon {
        display: inline-block
        }

        .resp-sharing-button__link {
        text-decoration: none;
        color: #fff;
        margin: 0.5em
        }

        .resp-sharing-button {
        border-radius: 5px;
        transition: 25ms ease-out;
        padding: 0.5em 0.75em;
        font-family: Helvetica Neue,Helvetica,Arial,sans-serif
        }

        .resp-sharing-button__icon svg {
        width: 1em;
        height: 1em;
        margin-right: 0.4em;
        vertical-align: top
        }

        .resp-sharing-button--small svg {
        margin: 0;
        vertical-align: middle
        }

        /* Non solid icons get a stroke */
        .resp-sharing-button__icon {
        stroke: #fff;
        fill: none
        }

        /* Solid icons get a fill */
        .resp-sharing-button__icon--solid,
        .resp-sharing-button__icon--solidcircle {
        fill: #fff;
        stroke: none
        }

        .resp-sharing-button--twitter {
        background-color: #55acee
        }

        .resp-sharing-button--twitter:hover {
        background-color: #2795e9
        }


        .resp-sharing-button--facebook {
        background-color: #3b5998
        }

        .resp-sharing-button--facebook:hover {
        background-color: #2d4373
        }


        .resp-sharing-button--facebook {
        background-color: #3b5998;
        border-color: #3b5998;
        }

        .resp-sharing-button--facebook:hover,
        .resp-sharing-button--facebook:active {
        background-color: #2d4373;
        border-color: #2d4373;
        }

        .resp-sharing-button--twitter {
        background-color: #55acee;
        border-color: #55acee;
        }

        .resp-sharing-button--twitter:hover,
        .resp-sharing-button--twitter:active {
        background-color: #2795e9;
        border-color: #2795e9;
        }

        #logInPage{ 
            margin: 100px;
            padding: 30px;
            text-align: center;
            background-color: var(--neutral-accent);
        }

        :root {
            /*
            three themes with three color options
            */
            --neutral-main: #432E36;
            --neutral-accent: #AF8D86;
            --neutral-highlight: #EDBFC6;

            --confidence-main: #35281D;
            --confidence-accent: #E56399;
            --confidence-highlight: #ADBDFF;

            --cute-main: #041B15;
            --cute-accent: #136F63;
            --cute-highlight: #22AAA1;
        };

        div {
            margin: 50, 50, 50 ,50;
        }

        body {
            
            margin : 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            min-height: 300px;
            
        }

        .navigation {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            background-color: var(--neutral-accent);
            
            padding: 10px;
            
        }

        .heading {
            display: flex;
            align-items: flex-start;
            flex-direction: row;
            justify-content: space-between;
            color : var(--neutral-main);
            background-color: var(--neutral-highlight);
            border-bottom: 5px solid var(--neutral-main);
        }

        button {
            border-color: var(--neutral-highlight);
            border-width: 0px;
            border-radius: 20px;
            background-color: var(--neutral-highlight);
            box-shadow: 2px 2px 10px grey;
        }
        .quoteContainer {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin: 20px;
            max-width: 500px;
            padding-top: 50px;
            padding-bottom: 50px;
            padding-right: 20px;
            padding-left: 20px;
            background-color: var(--neutral-accent);
            border-radius: 20px;
        }

        .quote {
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            margin: 10px;
            padding: 10px;
            
        }

        .container{
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .hide {
            display: none;
        }

        .entryParagraph {
            background-color: red;
        }

    </style>
    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" 
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>

    <!-- Popper.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" 
    integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>

    <!-- Bootstrap JavaScript -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" 
    integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
        
    <script>
        

        window.addEventListener("DOMContentLoaded", domLoaded);

        function domLoaded() {
            

            /**
             * log in and log out feature hard coded
             **/
            const logInPage = document.getElementById('logInPage')
            const logInBtn = document.getElementById('logIn')
            logInBtn.addEventListener('click', logIn)

            const mainPage = document.getElementById('container')
            const logOutBtn = document.getElementById('logOut')
            logOutBtn.addEventListener('click', logOut)

            function logOut(){
                mainPage.classList.add("hide")
                logInPage.classList.remove("hide")
            }

            function logIn(){
                logInPage.classList.add("hide")
                mainPage.classList.remove("hide")
            }

            /**
             * change theme
             **/

            const themeBtn = document.getElementById("changeTheme")
            themeBtn.addEventListener('click', changeTheme)
            var themeCounter = 0;

            function changeTheme(){
                if (themeCounter == 0){
                    //append theme 1
                    themeCounter++;
                }
                if (themeCounter == 1){
                    //append theme 2
                    themeCounter++;
                }
                if (themeCounter == 2){
                    //append theme 3
                    themeCounter = 0;
                }
            }

            /**
             * quote navigation
             **/

            const quotes = ["you are awesome", "you got this", "don't give up"];
            var quoteIndex = 0;
            const quoteText = document.getElementById("qtTxt")
            quoteText.innerText = quotes[quoteIndex]
            const nextBtn = document.getElementById("nextBtn").addEventListener('click', nextQuote)
            const backBtn = document.getElementById("backBtn").addEventListener('click', backQuote)
            addQuote = document.getElementById("save").addEventListener('click', addQuote)
            
            function nextQuote(){
                quoteIndex ++;
                quoteIndex = quoteIndex % quotes.length;
                quoteText.innerText = quotes[quoteIndex];
            }

            function backQuote(){
                quoteIndex --;
                quoteIndex = quoteIndex % quotes.length;
                quoteText.innerText = quotes[Math.abs(quoteIndex)];
            }

            function addQuote(){
                newQuote = document.getElementById("newQuote").value
                quoteIndex = quotes.length
                console.log(newQuote)
                quotes.push(newQuote)
                console.log(quotes)
                quoteText.innerText = quotes[quoteIndex];
            }

            /**
             * add diary entry
             **/
            

            const entries = [
                {
                title: "My First Entry",
                date: "11/18/2020",
                text: "Here is a very interesting detail about my life."
                },
                {
                title: "My Second Entry",
                date: "11/18/2020",
                text: "Here is more about my life."
                },
                {
                 title: "This One is a Long One",
                 date: "11/18/2020",
                 text: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam nec ullamcorper lacus, non viverra justo. Curabitur tempus, erat id consectetur sodales, mi mi condimentum elit, ut finibus tortor libero at est. Pellentesque pulvinar sollicitudin eros eu commodo. Aliquam ut dui ac risus auctor molestie eu et est. Maecenas lacinia malesuada tortor sit amet efficitur. Nunc vitae pretium libero. Suspendisse vitae nulla ac leo hendrerit ultrices. Nullam lacinia sapien eros, id tincidunt odio placerat ac. Donec id dignissim justo, et vestibulum neque. Donec volutpat nisi quam. Nunc sagittis eget urna at venenatis. Vestibulum suscipit fermentum sodales. Duis vehicula neque sit amet ex sodales, ut venenatis nunc pharetra. Mauris eu leo eu enim aliquam venenatis. Donec sagittis nulla orci, sed dapibus massa auctor vitae. Mauris tristique enim eu diam faucibus, vel semper mi bibendum. Cras velit nisl, commodo nec viverra eget, bibendum at lorem. Integer sit amet lectus at tellus dictum consectetur ac id sem. Etiam eget magna in ipsum euismod placerat. Morbi a rutrum lacus. Fusce eget augue egestas, semper dolor ut, condimentum magna."
                }
            ];
            
            const entryBtn = document.getElementById("plusEntry").addEventListener('click', appendEntry)

            function appendEntry(){
                myTitle = document.getElementById("newTitle").value
                myDate = document.getElementById("newDate").value
                myText = document.getElementById("newText").value
                console.log(myTitle)
                console.log(myDate)
                console.log(myText)
                newObject = {title: myTitle, date: myDate, text: myText}
                entries.push(newObject)
                console.log(entries)
                loadEntry(entries.length-1)
            }

            entryContainer = document.getElementById("entryContainer")
            
            function loadEntries() {
                var counter = 0;
                entries.slice().reverse().forEach(entry => {
                    loadEntry(counter)
                    counter++
                });
            }

            function loadEntry(index)
            {
                entry = entries[index]
                newTitle = document.createTextNode(entry.title)
                    newDate = document.createTextNode(entry.date)
                    newParagraph = document.createTextNode(entry.text)
                    newParagraph.className = 'entryParagraph'
                    myHeader = document.createElement("h2")
                    myHeader.appendChild(newTitle)
                    
                    deleteBtn = document.createElement("button")
                    deleteBtn.innerText = "delete"
                    deleteBtn.id = "deleteEntry"
                    deleteBtn.value = index

                    editBtn = document.createElement("button")
                    editBtn.innerText = "edit"
                    editBtn.id = "editEntry"
                    editBtn.value = index
                    
                    entryBtns = document.createElement("div")
                    entryBtns.id = "entryBtnsDiv"

                    entryBtns.appendChild(editBtn)
                    entryBtns.appendChild(deleteBtn)

                    myDiv = document.createElement("div")
                    myDiv.id = "entryDiv" + index
                    myDiv.appendChild(myHeader)
                    myDiv.appendChild(newDate)
                    myDiv.appendChild(newParagraph)
                    myDiv.appendChild(entryBtns)

                    entryContainer.insertBefore(myDiv, entryContainer.childNodes[0])
            }

            $(document).on('click','#deleteEntry',function(){
                entries.splice(event.srcElement.value, 1);
                div2remove = "entryDiv" + event.srcElement.value;
                node = document.getElementById(div2remove)
                entryContainer.removeChild(node)
                console.log(entries)
            })
            
            $(document).on('click','#editEntry',function(){
                entries.splice(event.srcElement.value, 1);
                div2remove = "entryDiv" + event.srcElement.value;
                node = document.getElementById(div2remove)
                entryContainer.removeChild(node)
                $("#myNewEntry").modal()  
            })

            loadEntries()
        };

    </script>
</head>
    <body>

        <div id = logInPage> 
            <p><h1>Welcome to Daily Diary Hub</h1></p>
            <p><button id = logIn >Log In</button></p>
        </div>

        <div id = "container" class = hide>
      
            <div class = "heading">
                <h1>Daily Diary Hub</h1>
              <div class = "navigation">
                <p>Username</p>
                <p><button id = "logOut">log out</button></p>
                <p><button id = "changeTheme" >change theme</button></p>
              </div>
            </div>
      
            <div class = "quoteContainer">
              <div class = "quote">
                <button id = "backBtn"> &lt; </button>
                <p id = qtTxt style = "padding-left: 40px; padding-right: 40px;">this will be a quote</p>
                <button id = "nextBtn"> &gt; </button>
                </div>
                <!-- Trigger the modal with a button -->
                <button type="button" data-toggle="modal" data-target="#myModal">+</button>

                <!-- Modal -->
                <div id="myModal" class="modal fade" role="dialog">
                <div class="modal-dialog">

                    <!-- Modal content-->
                    <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Add a Quote</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        
                    </div>

                    <div class="modal-body">
                        <input type="textarea" name="newQuote" id="newQuote" placeholder="write your own quote...">
                    </div>

                    <div class="modal-footer">
                        <button id = "save" data-dismiss="modal">save</button>
                    </div>
                    
                    </div>

                    </div>
                </div>
            </div>
              
            
            
            <div class = "controls">
                    <!-- Trigger the modal with a button -->
                    <button type="button" data-toggle="modal" data-target="#myNewEntry">Write a New Entry</button>

                    <!-- Modal -->
                    <div id="myNewEntry" class="modal fade" role="dialog">
                    <div class="modal-dialog">

                    <!-- Modal content-->
                    <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Add an Entry</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        
                    </div>

                    <div class="modal-body">
                        <input type="textarea" name="newTitle" id="newTitle" placeholder="Title">
                        <input type="date" name="newDate" id="newDate">
                        <input type="text" name="newText" id = "newText" placeholder="Today I..." rows="10">
                    </div>

                    <div class="modal-footer">
                        <button id = "plusEntry" data-dismiss="modal">save</button>
                    </div>
                    </div>
                    </div>
            </div>
              
            <div id = "entryContainer">
             
            </div>
            
            
            <footer>
              <!-- Sharingbutton Facebook -->
                <a class="resp-sharing-button__link" href="https://facebook.com/sharer/sharer.php?u=http%3A%2F%2Fsharingbuttons.io" target="_blank" rel="noopener" aria-label="">
                    <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--circle">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="12" r="11.5"/><path d="M15.84 9.5H13.5V8.48c0-.53.35-.65.6-.65h1.4v-2.3h-2.35c-2.3 0-2.65 1.7-2.65 2.8V9.5h-2v2h2v7h3v-7h2.1l.24-2z"/></svg>
                    </div>
                    </div>
                </a>
  
                <!-- Sharingbutton Twitter -->
                <a class="resp-sharing-button__link" href="https://twitter.com/intent/tweet/?text=Super%20fast%20and%20easy%20Social%20Media%20Sharing%20Buttons.%20No%20JavaScript.%20No%20tracking.&amp;url=http%3A%2F%2Fsharingbuttons.io" target="_blank" rel="noopener" aria-label="">
                    <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--circle">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.5 7.4l-2 .2c-.4-.5-1-.8-2-.8C13.3 6.8 12 8 12 9.4v.6c-2 0-4-1-5.4-2.7-.2.4-.3.8-.3 1.3 0 1 .4 1.7 1.2 2.2-.5 0-1 0-1.2-.3 0 1.3 1 2.3 2 2.6-.3.4-.7.4-1 0 .2 1.4 1.2 2 2.3 2-1 1-2.5 1.4-4 1 1.3 1 2.7 1.4 4.2 1.4 4.8 0 7.5-4 7.5-7.5v-.4c.5-.4.8-1.5 1.2-2z"/><circle cx="12" cy="12" r="11.5"/></svg>
                    </div>
                    </div>
                </a>
  
            </footer>
          
    </body>
    

</html>